package fr.unice.polytech.si3.ps5.teamb.diceforge.game.exploit;

import static org.junit.Assert.assertFalse;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.Arrays;

import org.junit.Before;
import org.junit.Test;

import fr.unice.polytech.si3.ps5.teamb.diceforge.game.exploit.card.Card;
import fr.unice.polytech.si3.ps5.teamb.diceforge.game.exploit.card.Hydra;

/**
 * IslandTest
 */
public class IslandTest {

    Islands isls;
    Card card2 = new Hydra(0, 1, 1);
    Card card1 = new Hydra(1, 0, 1);
    Card card3 = new Hydra(1, 1, 2);
    Card card4 = new Hydra(2, 0, 2);
    Card card5 = new Hydra(0, 2, 2);
    Card card6 = new Hydra(2, 2, 4);

    @Before
    public void setup() {
        isls = new Islands(
                Arrays.asList(card1, card2, card3, card4, card5, card6, card1, card2, card3, card4, card5, card6));
    }

    @Test
    public void eligibleCardTest() {
        assertEquals(12, isls.getBuyableCards(2, 2).size());
        assertEquals(6, isls.getBuyableCards(1, 1).size());
        assertEquals(2, isls.getBuyableCards(1, 0).size());
    }

    @Test
    public void removeCardTest() {
        isls.removeCard(card1);
        assertEquals(11, isls.getBuyableCards(2, 2).size());
        assertEquals(5, isls.getBuyableCards(1, 1).size());
        assertEquals(1, isls.getBuyableCards(1, 0).size());
        assertTrue(isls.removeCard(card1));
        assertFalse(isls.removeCard(card1));
        assertEquals(0, isls.getBuyableCards(1, 0).size());
    }
}