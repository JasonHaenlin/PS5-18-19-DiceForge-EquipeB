package fr.unice.polytech.si3.ps5.teamb.diceforge.game.exploit;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.NoSuchElementException;

import fr.unice.polytech.si3.ps5.teamb.diceforge.game.exploit.card.Card;

/**
 * Island
 */
public final class Island implements Iterable<Card> {

    private List<Card> exploit;
    private String playerPortal;

    public Island(List<Card> exploit) {
        this.exploit = new ArrayList<>(exploit);
        this.playerPortal = "";
    }

    public boolean contains(Card card) {
        return exploit.contains(card);
    }

    public boolean remove(Card card) {
        return exploit.remove(card);
    }

    /**
     * @param playerPortal the playerPortal to set
     */
    public void setPlayerPortal(String playerPortal) {
        this.playerPortal = playerPortal;
    }

    /**
     * @return the playerPortal
     */
    public String getPlayerPortal() {
        return playerPortal;
    }

    @Override
    public Iterator<Card> iterator() {
        return new CardIterator();
    }

    @Override
    public String toString() {
        return exploit.toString();
    }

    private class CardIterator implements Iterator<Card> {
        private int cursor = 0;

        @Override
        public boolean hasNext() {
            return cursor < exploit.size();
        }

        @Override
        public Card next() {
            if (hasNext())
                return exploit.get(cursor++);
            else
                throw new NoSuchElementException();
        }
    }

}